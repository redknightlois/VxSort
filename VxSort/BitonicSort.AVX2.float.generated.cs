/////////////////////////////////////////////////////////////////////////////
////
// This file was auto-generated by a tool at 2021-10-12 14:03:04
//
// It is recommended you DO NOT directly edit this file but instead edit
// the code-generator that generated this source file instead.
/////////////////////////////////////////////////////////////////////////////

using System;
using System.Diagnostics;
using System.Runtime.CompilerServices;
using System.Runtime.InteropServices;
using System.Runtime.Intrinsics;
using static System.Runtime.Intrinsics.X86.Avx;
using static System.Runtime.Intrinsics.X86.Avx2;
using static System.Runtime.Intrinsics.X86.Sse2;
using static System.Runtime.Intrinsics.X86.Sse41;
using static System.Runtime.Intrinsics.X86.Sse42;
using static VxSort.VectorExtensions;

namespace VxSort
{
    using V = Vector256<float>;
    static unsafe partial class BitonicSort
    {


        [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]
        public static void sort_01v_ascending(ref V d01) {
            V  min, max, s;

            s = i2s(Shuffle(s2i<int>(d01), 0xB1));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(min), s2i<int>(max), 0xAA));

            s = i2s(Shuffle(s2i<int>(d01), 0x1B));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(min), s2i<int>(max), 0xCC));

            s = i2s(Shuffle(s2i<int>(d01), 0xB1));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(min), s2i<int>(max), 0xAA));

            s = d2s(Permute4x64(i2d(Shuffle(s2i<int>(d01), 0x1B)), 0x4E));
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(min), s2i<int>(max), 0xF0));

            s = i2s(Shuffle(s2i<int>(d01), 0x4E));
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(min), s2i<int>(max), 0xCC));

            s = i2s(Shuffle(s2i<int>(d01), 0xB1));
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(min), s2i<int>(max), 0xAA));
}

        [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]
        public static void sort_01v_merge_ascending(ref V d01) {
            V  min, max, s;

            s = d2s(Permute4x64(s2d(d01), 0x4E));
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(min), s2i<int>(max), 0xF0));

            s = i2s(Shuffle(s2i<int>(d01), 0x4E));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(min), s2i<int>(max), 0xCC));

            s = i2s(Shuffle(s2i<int>(d01), 0xB1));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(min), s2i<int>(max), 0xAA));
    }

        [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]
        public static void sort_01v_descending(ref V d01) {
            V  min, max, s;

            s = i2s(Shuffle(s2i<int>(d01), 0xB1));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(max), s2i<int>(min), 0xAA));

            s = i2s(Shuffle(s2i<int>(d01), 0x1B));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(max), s2i<int>(min), 0xCC));

            s = i2s(Shuffle(s2i<int>(d01), 0xB1));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(max), s2i<int>(min), 0xAA));

            s = d2s(Permute4x64(i2d(Shuffle(s2i<int>(d01), 0x1B)), 0x4E));
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(max), s2i<int>(min), 0xF0));

            s = i2s(Shuffle(s2i<int>(d01), 0x4E));
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(max), s2i<int>(min), 0xCC));

            s = i2s(Shuffle(s2i<int>(d01), 0xB1));
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(max), s2i<int>(min), 0xAA));
}

        [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]
        public static void sort_01v_merge_descending(ref V d01) {
            V  min, max, s;

            s = d2s(Permute4x64(s2d(d01), 0x4E));
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(max), s2i<int>(min), 0xF0));

            s = i2s(Shuffle(s2i<int>(d01), 0x4E));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(max), s2i<int>(min), 0xCC));

            s = i2s(Shuffle(s2i<int>(d01), 0xB1));
            
            min = Min(s, d01);
            max = Max(s, d01);
            d01 = i2s(Blend(s2i<int>(max), s2i<int>(min), 0xAA));
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_02v_ascending(ref V d01, ref V d02) {
        V  tmp;

        sort_01v_ascending(ref d01);
        sort_01v_descending(ref d02);

            tmp = d02;
            
            d02 = Max(d01, d02);
            d01 = Min(d01, tmp);

        sort_01v_merge_ascending(ref d01);
        sort_01v_merge_ascending(ref d02);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_02v_descending(ref V d01, ref V d02) {
        V  tmp;

        sort_01v_descending(ref d01);
        sort_01v_ascending(ref d02);

            tmp = d02;
            
            d02 = Max(d01, d02);
            d01 = Min(d01, tmp);

        sort_01v_merge_descending(ref d01);
        sort_01v_merge_descending(ref d02);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_02v_merge_ascending(ref V d01, ref V d02) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d02, d01);
            
            d02 = Max(d02, tmp);

        sort_01v_merge_ascending(ref d01);
        sort_01v_merge_ascending(ref d02);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_02v_merge_descending(ref V d01, ref V d02) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d02, d01);
            
            d02 = Max(d02, tmp);

        sort_01v_merge_descending(ref d01);
        sort_01v_merge_descending(ref d02);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_03v_ascending(ref V d01, ref V d02, ref V d03) {
        V  tmp;

        sort_02v_ascending(ref d01, ref d02);
        sort_01v_descending(ref d03);

            tmp = d03;
            
            d03 = Max(d02, d03);
            d02 = Min(d02, tmp);

        sort_02v_merge_ascending(ref d01, ref d02);
        sort_01v_merge_ascending(ref d03);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_03v_descending(ref V d01, ref V d02, ref V d03) {
        V  tmp;

        sort_02v_descending(ref d01, ref d02);
        sort_01v_ascending(ref d03);

            tmp = d03;
            
            d03 = Max(d02, d03);
            d02 = Min(d02, tmp);

        sort_02v_merge_descending(ref d01, ref d02);
        sort_01v_merge_descending(ref d03);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_03v_merge_ascending(ref V d01, ref V d02, ref V d03) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d03, d01);
            
            d03 = Max(d03, tmp);

        sort_02v_merge_ascending(ref d01, ref d02);
        sort_01v_merge_ascending(ref d03);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_03v_merge_descending(ref V d01, ref V d02, ref V d03) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d03, d01);
            
            d03 = Max(d03, tmp);

        sort_02v_merge_descending(ref d01, ref d02);
        sort_01v_merge_descending(ref d03);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_04v_ascending(ref V d01, ref V d02, ref V d03, ref V d04) {
        V  tmp;

        sort_02v_ascending(ref d01, ref d02);
        sort_02v_descending(ref d03, ref d04);

            tmp = d03;
            
            d03 = Max(d02, d03);
            d02 = Min(d02, tmp);

            tmp = d04;
            
            d04 = Max(d01, d04);
            d01 = Min(d01, tmp);

        sort_02v_merge_ascending(ref d01, ref d02);
        sort_02v_merge_ascending(ref d03, ref d04);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_04v_descending(ref V d01, ref V d02, ref V d03, ref V d04) {
        V  tmp;

        sort_02v_descending(ref d01, ref d02);
        sort_02v_ascending(ref d03, ref d04);

            tmp = d03;
            
            d03 = Max(d02, d03);
            d02 = Min(d02, tmp);

            tmp = d04;
            
            d04 = Max(d01, d04);
            d01 = Min(d01, tmp);

        sort_02v_merge_descending(ref d01, ref d02);
        sort_02v_merge_descending(ref d03, ref d04);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_04v_merge_ascending(ref V d01, ref V d02, ref V d03, ref V d04) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d03, d01);
            
            d03 = Max(d03, tmp);

            tmp = d02;
            
            d02 = Min(d04, d02);
            
            d04 = Max(d04, tmp);

        sort_02v_merge_ascending(ref d01, ref d02);
        sort_02v_merge_ascending(ref d03, ref d04);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_04v_merge_descending(ref V d01, ref V d02, ref V d03, ref V d04) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d03, d01);
            
            d03 = Max(d03, tmp);

            tmp = d02;
            
            d02 = Min(d04, d02);
            
            d04 = Max(d04, tmp);

        sort_02v_merge_descending(ref d01, ref d02);
        sort_02v_merge_descending(ref d03, ref d04);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_05v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05) {
        V  tmp;

        sort_04v_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_01v_descending(ref d05);

            tmp = d05;
            
            d05 = Max(d04, d05);
            d04 = Min(d04, tmp);

        sort_04v_merge_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_01v_merge_ascending(ref d05);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_05v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05) {
        V  tmp;

        sort_04v_descending(ref d01, ref d02, ref d03, ref d04);
        sort_01v_ascending(ref d05);

            tmp = d05;
            
            d05 = Max(d04, d05);
            d04 = Min(d04, tmp);

        sort_04v_merge_descending(ref d01, ref d02, ref d03, ref d04);
        sort_01v_merge_descending(ref d05);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_05v_merge_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d05, d01);
            
            d05 = Max(d05, tmp);

        sort_04v_merge_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_01v_merge_ascending(ref d05);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_05v_merge_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d05, d01);
            
            d05 = Max(d05, tmp);

        sort_04v_merge_descending(ref d01, ref d02, ref d03, ref d04);
        sort_01v_merge_descending(ref d05);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_06v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06) {
        V  tmp;

        sort_04v_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_02v_descending(ref d05, ref d06);

            tmp = d05;
            
            d05 = Max(d04, d05);
            d04 = Min(d04, tmp);

            tmp = d06;
            
            d06 = Max(d03, d06);
            d03 = Min(d03, tmp);

        sort_04v_merge_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_02v_merge_ascending(ref d05, ref d06);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_06v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06) {
        V  tmp;

        sort_04v_descending(ref d01, ref d02, ref d03, ref d04);
        sort_02v_ascending(ref d05, ref d06);

            tmp = d05;
            
            d05 = Max(d04, d05);
            d04 = Min(d04, tmp);

            tmp = d06;
            
            d06 = Max(d03, d06);
            d03 = Min(d03, tmp);

        sort_04v_merge_descending(ref d01, ref d02, ref d03, ref d04);
        sort_02v_merge_descending(ref d05, ref d06);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_06v_merge_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d05, d01);
            
            d05 = Max(d05, tmp);

            tmp = d02;
            
            d02 = Min(d06, d02);
            
            d06 = Max(d06, tmp);

        sort_04v_merge_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_02v_merge_ascending(ref d05, ref d06);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_06v_merge_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d05, d01);
            
            d05 = Max(d05, tmp);

            tmp = d02;
            
            d02 = Min(d06, d02);
            
            d06 = Max(d06, tmp);

        sort_04v_merge_descending(ref d01, ref d02, ref d03, ref d04);
        sort_02v_merge_descending(ref d05, ref d06);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_07v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07) {
        V  tmp;

        sort_04v_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_03v_descending(ref d05, ref d06, ref d07);

            tmp = d05;
            
            d05 = Max(d04, d05);
            d04 = Min(d04, tmp);

            tmp = d06;
            
            d06 = Max(d03, d06);
            d03 = Min(d03, tmp);

            tmp = d07;
            
            d07 = Max(d02, d07);
            d02 = Min(d02, tmp);

        sort_04v_merge_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_03v_merge_ascending(ref d05, ref d06, ref d07);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_07v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07) {
        V  tmp;

        sort_04v_descending(ref d01, ref d02, ref d03, ref d04);
        sort_03v_ascending(ref d05, ref d06, ref d07);

            tmp = d05;
            
            d05 = Max(d04, d05);
            d04 = Min(d04, tmp);

            tmp = d06;
            
            d06 = Max(d03, d06);
            d03 = Min(d03, tmp);

            tmp = d07;
            
            d07 = Max(d02, d07);
            d02 = Min(d02, tmp);

        sort_04v_merge_descending(ref d01, ref d02, ref d03, ref d04);
        sort_03v_merge_descending(ref d05, ref d06, ref d07);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_07v_merge_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d05, d01);
            
            d05 = Max(d05, tmp);

            tmp = d02;
            
            d02 = Min(d06, d02);
            
            d06 = Max(d06, tmp);

            tmp = d03;
            
            d03 = Min(d07, d03);
            
            d07 = Max(d07, tmp);

        sort_04v_merge_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_03v_merge_ascending(ref d05, ref d06, ref d07);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_07v_merge_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d05, d01);
            
            d05 = Max(d05, tmp);

            tmp = d02;
            
            d02 = Min(d06, d02);
            
            d06 = Max(d06, tmp);

            tmp = d03;
            
            d03 = Min(d07, d03);
            
            d07 = Max(d07, tmp);

        sort_04v_merge_descending(ref d01, ref d02, ref d03, ref d04);
        sort_03v_merge_descending(ref d05, ref d06, ref d07);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_08v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08) {
        V  tmp;

        sort_04v_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_04v_descending(ref d05, ref d06, ref d07, ref d08);

            tmp = d05;
            
            d05 = Max(d04, d05);
            d04 = Min(d04, tmp);

            tmp = d06;
            
            d06 = Max(d03, d06);
            d03 = Min(d03, tmp);

            tmp = d07;
            
            d07 = Max(d02, d07);
            d02 = Min(d02, tmp);

            tmp = d08;
            
            d08 = Max(d01, d08);
            d01 = Min(d01, tmp);

        sort_04v_merge_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_04v_merge_ascending(ref d05, ref d06, ref d07, ref d08);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_08v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08) {
        V  tmp;

        sort_04v_descending(ref d01, ref d02, ref d03, ref d04);
        sort_04v_ascending(ref d05, ref d06, ref d07, ref d08);

            tmp = d05;
            
            d05 = Max(d04, d05);
            d04 = Min(d04, tmp);

            tmp = d06;
            
            d06 = Max(d03, d06);
            d03 = Min(d03, tmp);

            tmp = d07;
            
            d07 = Max(d02, d07);
            d02 = Min(d02, tmp);

            tmp = d08;
            
            d08 = Max(d01, d08);
            d01 = Min(d01, tmp);

        sort_04v_merge_descending(ref d01, ref d02, ref d03, ref d04);
        sort_04v_merge_descending(ref d05, ref d06, ref d07, ref d08);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_08v_merge_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d05, d01);
            
            d05 = Max(d05, tmp);

            tmp = d02;
            
            d02 = Min(d06, d02);
            
            d06 = Max(d06, tmp);

            tmp = d03;
            
            d03 = Min(d07, d03);
            
            d07 = Max(d07, tmp);

            tmp = d04;
            
            d04 = Min(d08, d04);
            
            d08 = Max(d08, tmp);

        sort_04v_merge_ascending(ref d01, ref d02, ref d03, ref d04);
        sort_04v_merge_ascending(ref d05, ref d06, ref d07, ref d08);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_08v_merge_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08) {
        V  tmp;

            tmp = d01;
            
            d01 = Min(d05, d01);
            
            d05 = Max(d05, tmp);

            tmp = d02;
            
            d02 = Min(d06, d02);
            
            d06 = Max(d06, tmp);

            tmp = d03;
            
            d03 = Min(d07, d03);
            
            d07 = Max(d07, tmp);

            tmp = d04;
            
            d04 = Min(d08, d04);
            
            d08 = Max(d08, tmp);

        sort_04v_merge_descending(ref d01, ref d02, ref d03, ref d04);
        sort_04v_merge_descending(ref d05, ref d06, ref d07, ref d08);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_09v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09) {
        V  tmp;

        sort_08v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_01v_descending(ref d09);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

        sort_08v_merge_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_01v_merge_ascending(ref d09);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_09v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09) {
        V  tmp;

        sort_08v_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_01v_ascending(ref d09);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

        sort_08v_merge_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_01v_merge_descending(ref d09);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_10v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10) {
        V  tmp;

        sort_08v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_02v_descending(ref d09, ref d10);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

        sort_08v_merge_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_02v_merge_ascending(ref d09, ref d10);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_10v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10) {
        V  tmp;

        sort_08v_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_02v_ascending(ref d09, ref d10);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

        sort_08v_merge_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_02v_merge_descending(ref d09, ref d10);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_11v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11) {
        V  tmp;

        sort_08v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_03v_descending(ref d09, ref d10, ref d11);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

        sort_08v_merge_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_03v_merge_ascending(ref d09, ref d10, ref d11);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_11v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11) {
        V  tmp;

        sort_08v_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_03v_ascending(ref d09, ref d10, ref d11);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

        sort_08v_merge_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_03v_merge_descending(ref d09, ref d10, ref d11);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_12v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12) {
        V  tmp;

        sort_08v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_04v_descending(ref d09, ref d10, ref d11, ref d12);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

        sort_08v_merge_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_04v_merge_ascending(ref d09, ref d10, ref d11, ref d12);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_12v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12) {
        V  tmp;

        sort_08v_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_04v_ascending(ref d09, ref d10, ref d11, ref d12);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

        sort_08v_merge_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_04v_merge_descending(ref d09, ref d10, ref d11, ref d12);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_13v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12, ref V d13) {
        V  tmp;

        sort_08v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_05v_descending(ref d09, ref d10, ref d11, ref d12, ref d13);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

            tmp = d13;
            
            d13 = Max(d04, d13);
            d04 = Min(d04, tmp);

        sort_08v_merge_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_05v_merge_ascending(ref d09, ref d10, ref d11, ref d12, ref d13);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_13v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12, ref V d13) {
        V  tmp;

        sort_08v_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_05v_ascending(ref d09, ref d10, ref d11, ref d12, ref d13);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

            tmp = d13;
            
            d13 = Max(d04, d13);
            d04 = Min(d04, tmp);

        sort_08v_merge_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_05v_merge_descending(ref d09, ref d10, ref d11, ref d12, ref d13);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_14v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12, ref V d13, ref V d14) {
        V  tmp;

        sort_08v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_06v_descending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

            tmp = d13;
            
            d13 = Max(d04, d13);
            d04 = Min(d04, tmp);

            tmp = d14;
            
            d14 = Max(d03, d14);
            d03 = Min(d03, tmp);

        sort_08v_merge_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_06v_merge_ascending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_14v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12, ref V d13, ref V d14) {
        V  tmp;

        sort_08v_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_06v_ascending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

            tmp = d13;
            
            d13 = Max(d04, d13);
            d04 = Min(d04, tmp);

            tmp = d14;
            
            d14 = Max(d03, d14);
            d03 = Min(d03, tmp);

        sort_08v_merge_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_06v_merge_descending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_15v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12, ref V d13, ref V d14, ref V d15) {
        V  tmp;

        sort_08v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_07v_descending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

            tmp = d13;
            
            d13 = Max(d04, d13);
            d04 = Min(d04, tmp);

            tmp = d14;
            
            d14 = Max(d03, d14);
            d03 = Min(d03, tmp);

            tmp = d15;
            
            d15 = Max(d02, d15);
            d02 = Min(d02, tmp);

        sort_08v_merge_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_07v_merge_ascending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_15v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12, ref V d13, ref V d14, ref V d15) {
        V  tmp;

        sort_08v_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_07v_ascending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

            tmp = d13;
            
            d13 = Max(d04, d13);
            d04 = Min(d04, tmp);

            tmp = d14;
            
            d14 = Max(d03, d14);
            d03 = Min(d03, tmp);

            tmp = d15;
            
            d15 = Max(d02, d15);
            d02 = Min(d02, tmp);

        sort_08v_merge_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_07v_merge_descending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_16v_ascending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12, ref V d13, ref V d14, ref V d15, ref V d16) {
        V  tmp;

        sort_08v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_08v_descending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15, ref d16);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

            tmp = d13;
            
            d13 = Max(d04, d13);
            d04 = Min(d04, tmp);

            tmp = d14;
            
            d14 = Max(d03, d14);
            d03 = Min(d03, tmp);

            tmp = d15;
            
            d15 = Max(d02, d15);
            d02 = Min(d02, tmp);

            tmp = d16;
            
            d16 = Max(d01, d16);
            d01 = Min(d01, tmp);

        sort_08v_merge_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_08v_merge_ascending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15, ref d16);
    }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]        
    private static void sort_16v_descending(ref V d01, ref V d02, ref V d03, ref V d04, ref V d05, ref V d06, ref V d07, ref V d08, ref V d09, ref V d10, ref V d11, ref V d12, ref V d13, ref V d14, ref V d15, ref V d16) {
        V  tmp;

        sort_08v_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_08v_ascending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15, ref d16);

            tmp = d09;
            
            d09 = Max(d08, d09);
            d08 = Min(d08, tmp);

            tmp = d10;
            
            d10 = Max(d07, d10);
            d07 = Min(d07, tmp);

            tmp = d11;
            
            d11 = Max(d06, d11);
            d06 = Min(d06, tmp);

            tmp = d12;
            
            d12 = Max(d05, d12);
            d05 = Min(d05, tmp);

            tmp = d13;
            
            d13 = Max(d04, d13);
            d04 = Min(d04, tmp);

            tmp = d14;
            
            d14 = Max(d03, d14);
            d03 = Min(d03, tmp);

            tmp = d15;
            
            d15 = Max(d02, d15);
            d02 = Min(d02, tmp);

            tmp = d16;
            
            d16 = Max(d01, d16);
            d01 = Min(d01, tmp);

        sort_08v_merge_descending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
        sort_08v_merge_descending(ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15, ref d16);
    }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_01v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = Or(MaskLoad(ptr +  V.Count * 0, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_01v_ascending(ref d01);
      MaskStore(ptr +  V.Count * 0, mask, d01);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_02v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = Or(MaskLoad(ptr +  V.Count * 1, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_02v_ascending(ref d01, ref d02);
      Store((float *) (ptr +  V.Count * 0), d01);
      MaskStore(ptr +  V.Count * 1, mask, d02);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_03v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = Or(MaskLoad(ptr +  V.Count * 2, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_03v_ascending(ref d01, ref d02, ref d03);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      MaskStore(ptr +  V.Count * 2, mask, d03);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_04v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = Or(MaskLoad(ptr +  V.Count * 3, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_04v_ascending(ref d01, ref d02, ref d03, ref d04);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      MaskStore(ptr +  V.Count * 3, mask, d04);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_05v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = Or(MaskLoad(ptr +  V.Count * 4, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_05v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      MaskStore(ptr +  V.Count * 4, mask, d05);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_06v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = Or(MaskLoad(ptr +  V.Count * 5, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_06v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      MaskStore(ptr +  V.Count * 5, mask, d06);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_07v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = Or(MaskLoad(ptr +  V.Count * 6, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_07v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      MaskStore(ptr +  V.Count * 6, mask, d07);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_08v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = LoadVector256(ptr + V.Count * 6);
      V d08 = Or(MaskLoad(ptr +  V.Count * 7, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_08v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      Store((float *) (ptr +  V.Count * 6), d07);
      MaskStore(ptr +  V.Count * 7, mask, d08);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_09v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = LoadVector256(ptr + V.Count * 6);
      V d08 = LoadVector256(ptr + V.Count * 7);
      V d09 = Or(MaskLoad(ptr +  V.Count * 8, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_09v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08, ref d09);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      Store((float *) (ptr +  V.Count * 6), d07);
      Store((float *) (ptr +  V.Count * 7), d08);
      MaskStore(ptr +  V.Count * 8, mask, d09);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_10v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = LoadVector256(ptr + V.Count * 6);
      V d08 = LoadVector256(ptr + V.Count * 7);
      V d09 = LoadVector256(ptr + V.Count * 8);
      V d10 = Or(MaskLoad(ptr +  V.Count * 9, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_10v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08, ref d09, ref d10);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      Store((float *) (ptr +  V.Count * 6), d07);
      Store((float *) (ptr +  V.Count * 7), d08);
      Store((float *) (ptr +  V.Count * 8), d09);
      MaskStore(ptr +  V.Count * 9, mask, d10);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_11v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = LoadVector256(ptr + V.Count * 6);
      V d08 = LoadVector256(ptr + V.Count * 7);
      V d09 = LoadVector256(ptr + V.Count * 8);
      V d10 = LoadVector256(ptr + V.Count * 9);
      V d11 = Or(MaskLoad(ptr +  V.Count * 10, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_11v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08, ref d09, ref d10, ref d11);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      Store((float *) (ptr +  V.Count * 6), d07);
      Store((float *) (ptr +  V.Count * 7), d08);
      Store((float *) (ptr +  V.Count * 8), d09);
      Store((float *) (ptr +  V.Count * 9), d10);
      MaskStore(ptr +  V.Count * 10, mask, d11);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_12v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = LoadVector256(ptr + V.Count * 6);
      V d08 = LoadVector256(ptr + V.Count * 7);
      V d09 = LoadVector256(ptr + V.Count * 8);
      V d10 = LoadVector256(ptr + V.Count * 9);
      V d11 = LoadVector256(ptr + V.Count * 10);
      V d12 = Or(MaskLoad(ptr +  V.Count * 11, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_12v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08, ref d09, ref d10, ref d11, ref d12);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      Store((float *) (ptr +  V.Count * 6), d07);
      Store((float *) (ptr +  V.Count * 7), d08);
      Store((float *) (ptr +  V.Count * 8), d09);
      Store((float *) (ptr +  V.Count * 9), d10);
      Store((float *) (ptr +  V.Count * 10), d11);
      MaskStore(ptr +  V.Count * 11, mask, d12);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_13v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = LoadVector256(ptr + V.Count * 6);
      V d08 = LoadVector256(ptr + V.Count * 7);
      V d09 = LoadVector256(ptr + V.Count * 8);
      V d10 = LoadVector256(ptr + V.Count * 9);
      V d11 = LoadVector256(ptr + V.Count * 10);
      V d12 = LoadVector256(ptr + V.Count * 11);
      V d13 = Or(MaskLoad(ptr +  V.Count * 12, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_13v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08, ref d09, ref d10, ref d11, ref d12, ref d13);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      Store((float *) (ptr +  V.Count * 6), d07);
      Store((float *) (ptr +  V.Count * 7), d08);
      Store((float *) (ptr +  V.Count * 8), d09);
      Store((float *) (ptr +  V.Count * 9), d10);
      Store((float *) (ptr +  V.Count * 10), d11);
      Store((float *) (ptr +  V.Count * 11), d12);
      MaskStore(ptr +  V.Count * 12, mask, d13);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_14v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = LoadVector256(ptr + V.Count * 6);
      V d08 = LoadVector256(ptr + V.Count * 7);
      V d09 = LoadVector256(ptr + V.Count * 8);
      V d10 = LoadVector256(ptr + V.Count * 9);
      V d11 = LoadVector256(ptr + V.Count * 10);
      V d12 = LoadVector256(ptr + V.Count * 11);
      V d13 = LoadVector256(ptr + V.Count * 12);
      V d14 = Or(MaskLoad(ptr +  V.Count * 13, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_14v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08, ref d09, ref d10, ref d11, ref d12, ref d13, ref d14);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      Store((float *) (ptr +  V.Count * 6), d07);
      Store((float *) (ptr +  V.Count * 7), d08);
      Store((float *) (ptr +  V.Count * 8), d09);
      Store((float *) (ptr +  V.Count * 9), d10);
      Store((float *) (ptr +  V.Count * 10), d11);
      Store((float *) (ptr +  V.Count * 11), d12);
      Store((float *) (ptr +  V.Count * 12), d13);
      MaskStore(ptr +  V.Count * 13, mask, d14);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_15v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = LoadVector256(ptr + V.Count * 6);
      V d08 = LoadVector256(ptr + V.Count * 7);
      V d09 = LoadVector256(ptr + V.Count * 8);
      V d10 = LoadVector256(ptr + V.Count * 9);
      V d11 = LoadVector256(ptr + V.Count * 10);
      V d12 = LoadVector256(ptr + V.Count * 11);
      V d13 = LoadVector256(ptr + V.Count * 12);
      V d14 = LoadVector256(ptr + V.Count * 13);
      V d15 = Or(MaskLoad(ptr +  V.Count * 14, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_15v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08, ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      Store((float *) (ptr +  V.Count * 6), d07);
      Store((float *) (ptr +  V.Count * 7), d08);
      Store((float *) (ptr +  V.Count * 8), d09);
      Store((float *) (ptr +  V.Count * 9), d10);
      Store((float *) (ptr +  V.Count * 10), d11);
      Store((float *) (ptr +  V.Count * 11), d12);
      Store((float *) (ptr +  V.Count * 12), d13);
      Store((float *) (ptr +  V.Count * 13), d14);
      MaskStore(ptr +  V.Count * 14, mask, d15);
     }

        [MethodImpl(MethodImplOptions.NoInlining | MethodImplOptions.AggressiveOptimization)]
        private static void sort_16v_alt(float *ptr, int remainder) 
        {        
            var mask = i2s(ConvertToVector256Int32(LoadVector128((sbyte*)Unsafe.AsPointer(ref MemoryMarshal.GetReference(mask_table_8)) + remainder * V.Count)));

      V d01 = LoadVector256(ptr + V.Count * 0);
      V d02 = LoadVector256(ptr + V.Count * 1);
      V d03 = LoadVector256(ptr + V.Count * 2);
      V d04 = LoadVector256(ptr + V.Count * 3);
      V d05 = LoadVector256(ptr + V.Count * 4);
      V d06 = LoadVector256(ptr + V.Count * 5);
      V d07 = LoadVector256(ptr + V.Count * 6);
      V d08 = LoadVector256(ptr + V.Count * 7);
      V d09 = LoadVector256(ptr + V.Count * 8);
      V d10 = LoadVector256(ptr + V.Count * 9);
      V d11 = LoadVector256(ptr + V.Count * 10);
      V d12 = LoadVector256(ptr + V.Count * 11);
      V d13 = LoadVector256(ptr + V.Count * 12);
      V d14 = LoadVector256(ptr + V.Count * 13);
      V d15 = LoadVector256(ptr + V.Count * 14);
      V d16 = Or(MaskLoad(ptr +  V.Count * 15, mask), AndNot(mask, Vector256.Create(float.MaxValue)));
      sort_16v_ascending(ref d01, ref d02, ref d03, ref d04, ref d05, ref d06, ref d07, ref d08, ref d09, ref d10, ref d11, ref d12, ref d13, ref d14, ref d15, ref d16);
      Store((float *) (ptr +  V.Count * 0), d01);
      Store((float *) (ptr +  V.Count * 1), d02);
      Store((float *) (ptr +  V.Count * 2), d03);
      Store((float *) (ptr +  V.Count * 3), d04);
      Store((float *) (ptr +  V.Count * 4), d05);
      Store((float *) (ptr +  V.Count * 5), d06);
      Store((float *) (ptr +  V.Count * 6), d07);
      Store((float *) (ptr +  V.Count * 7), d08);
      Store((float *) (ptr +  V.Count * 8), d09);
      Store((float *) (ptr +  V.Count * 9), d10);
      Store((float *) (ptr +  V.Count * 10), d11);
      Store((float *) (ptr +  V.Count * 11), d12);
      Store((float *) (ptr +  V.Count * 12), d13);
      Store((float *) (ptr +  V.Count * 13), d14);
      Store((float *) (ptr +  V.Count * 14), d15);
      MaskStore(ptr +  V.Count * 15, mask, d16);
     }

    [MethodImpl(MethodImplOptions.AggressiveInlining | MethodImplOptions.AggressiveOptimization)]
    public static void Sort(float* ptr, int length)
    {
        var fullvlength = length / V.Count;
        var remainder = (int) (length - fullvlength * V.Count);
        var v = fullvlength + ((remainder > 0) ? 1 : 0);
        
        switch (v) {
        case 1: sort_01v_alt(ptr, remainder); break;
        case 2: sort_02v_alt(ptr, remainder); break;
        case 3: sort_03v_alt(ptr, remainder); break;
        case 4: sort_04v_alt(ptr, remainder); break;
        case 5: sort_05v_alt(ptr, remainder); break;
        case 6: sort_06v_alt(ptr, remainder); break;
        case 7: sort_07v_alt(ptr, remainder); break;
        case 8: sort_08v_alt(ptr, remainder); break;
        case 9: sort_09v_alt(ptr, remainder); break;
        case 10: sort_10v_alt(ptr, remainder); break;
        case 11: sort_11v_alt(ptr, remainder); break;
        case 12: sort_12v_alt(ptr, remainder); break;
        case 13: sort_13v_alt(ptr, remainder); break;
        case 14: sort_14v_alt(ptr, remainder); break;
        case 15: sort_15v_alt(ptr, remainder); break;
        case 16: sort_16v_alt(ptr, remainder); break;
         }
     }

    };
}
    
